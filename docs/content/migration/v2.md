# Migration: Steps needed between the versions

## 2.0 to 2.1
In Version 2.1, we added a new CRD called ``TraefikService``. When you're updating your installation to 2.1,
you therefore need to apply that CRD before as well as enhance your ClusterRole to allow Traefik
to use that CRD.

To add that CRD, you need to apply the following definition:

```yaml tab="Kubernetes TraefikService
---
  apiVersion: apiextensions.k8s.io/v1beta1
  kind: CustomResourceDefinition
  metadata:
    name: traefikservices.traefik.containo.us
  
  spec:
    group: traefik.containo.us
    version: v1alpha1
    names:
      kind: TraefikService
      plural: traefikservices
      singular: traefikservice
    scope: Namespaced
```

Also, you need to extend your permissions to that:

```yaml tab="ClusterRole"
---
kind: ClusterRole
apiVersion: rbac.authorization.k8s.io/v1beta1
metadata:
  name: traefik-ingress-controller

rules:
  - apiGroups:
      - ""
    resources:
      - services
      - endpoints
      - secrets
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - extensions
    resources:
      - ingresses
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - extensions
    resources:
      - ingresses/status
    verbs:
      - update
  - apiGroups:
      - traefik.containo.us
    resources:
      - middlewares
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - traefik.containo.us
    resources:
      - ingressroutes
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - traefik.containo.us
    resources:
      - ingressroutetcps
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - traefik.containo.us
    resources:
      - tlsoptions
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - traefik.containo.us
    resources:
      - traefikservices
    verbs:
      - get
      - list
      - watch
```

After having both resources applied, Traefik will work properly.
